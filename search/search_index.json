{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Guide","text":"<p>This manual provides a step-by-step guide to installing and using AutoOutline, a MacOS toolbox designed for cell analysis and FISH-Quant integration. The toolbox contains four main components:</p> <ul> <li>Micro-SAM Napari - Creating masks for cells</li> <li>Shift Analyzer - Quantifying shifts or drifts between DIC/Mask and FISH images</li> <li>Registration - Aligning shifted images</li> <li>Mask2Outline - Converting cell masks into FISH-Quant outline files</li> </ul> <p>For any issues, email me at sc22yz3@leeds.ac.uk</p> <p>For downloading AutoOutline and model weights, please visit the Resources page.</p>"},{"location":"#autooutline-installation-and-napari-setup","title":"AutoOutline Installation and Napari Setup","text":"<p>To download AutoOutline, use this link:  </p> <p>https://drive.google.com/file/d/1p68MWEPVD3cKDND40Gbtgrc_WwkO2O1P/view?usp=sharing</p> <p>Download AutoOutline.dmg, open it, and drag the AutoOutline app to your Applications folder. The first time you launch it, the app will prompt you to install Miniconda and set up the Micro-SAM environment. This may take a few minutes\u2014please be patient. Once complete, a window will pop up allowing you to select a tool.</p> <p></p> <p>Under Analysis Tool, choose Napari. The first launch of Napari may also take some time to build.</p> <p>Napari is an interactive interface used in this workflow to generate masks for each cell on DIC images. For detail information, check </p> <p>https://computational-cell-analytics.github.io/micro-sam/micro_sam.html#annotation-tools created by Micro-SAM project. They also provide video tutorial.</p> <p>To start:  </p> <p>Open Napari, then click File &gt; Open File (or drag and drop a file) to load a DIC image. Go to Plugins &gt; Segment Anything for Microscopy. Select Annotator 2D (for single files) or Image Series Annotator (for all files in a folder). Use Annotator 2D for this step. It may take a moment to load\u2014this is normal. Ensure your image layer is at the bottom of the layer list. If not, drag it to adjust.</p> <p></p>"},{"location":"#configuring-embedding-and-segmentation-settings-in-napari","title":"Configuring Embedding and Segmentation Settings in Napari","text":"<p>Once Napari is open and your DIC image is loaded, configure the embedding settings for mask generation. Follow these steps:</p> <p>Click Embedding Settings in the sidebar.  </p> <p>Choose the following options (summarized in the table below):</p> Setting Option Model Size Select <code>base</code> or <code>large</code>. Large offers higher accuracy but is computational-heavy. Base runs faster with acceptable accuracy. An M2 MacBook Air 16G can run large without issues. If you experience crashes with large, switch to base. Custom Weights Path For large, select <code>l_yeast_finetuned.pt</code>. For base, select <code>b_yeast_finetuned.pt</code>. Important: Download these weights from the Resources page. These custom weights are fine-tuned for Yeast Cell DIC images, offering improved accuracy over default Micro-SAM models. <p></p> <p>After setting the model size and weights, click Compute Embeddings. This process takes a few seconds to complete.  </p> <p>Once embeddings are computed, proceed to Automatic Segmentation Settings, set the configuration as shown, they are proved to be most accurate on the training DIC image in general.</p> Large Base <p>If your options doesn't look like this, please compute embedding first.</p> <p>These settings are optimized for our custom weights (l_yeast_finetuned.pt or b_yeast_finetuned.pt). If you skip loading custom weights, Napari will download the default Micro-SAM model files, which may cause a few minutes of unresponsiveness. To avoid this, always use the provided custom weights.</p> <p>For steps beyond these AutoOutline-specific operations, refer to this tutorial video: https://www.youtube.com/watch?v=9xjJBg_Bfuc (Annotator 2D tutorial)</p> <p>Once you've done the annotation, you can save the commited_objects layer, this is the mask file generated. We will then use it to create outline file.</p>"},{"location":"#converting-masks-to-fish-quant-outlines-with-mask2outline","title":"Converting Masks to FISH-Quant Outlines with Mask2Outline","text":"<p>To convert your masks into outline files compatible with FISH-Quant, reopen AutoOutline and follow these steps:</p> <p>In the AutoOutline main window, select Utility Tool &gt; Mask2Outline. This will open a new window as shown:</p> <p></p> <p>Input:  </p> <p>For TIFF Mask, select the mask file (or folder, if processing multiple masks) you generated earlier in Napari.  </p> <p>For Metadata (CY3 Image/Folder), select a FISH image (or folder). This is required because FISH-Quant uses metadata from the outline file to open the corresponding FISH image. If you're processing a folder, the program will automatically match FISH images to masks based on their filenames.  </p> <p>Note: If processing a folder of masks, ensure the masks were generated using Image Series Annotator in Napari. This preserves the original filenames, allowing the program to correctly match masks with their corresponding FISH images.  </p> <p>Output:  </p> <p>Choose a folder where the program will save the converted outline files. These will be in a TXT format compatible with FISH-Quant.  </p> <p>Once all fields are set, click Convert to start the conversion process.  </p> <p>The resulting outline files can now be used directly in FISH-Quant for further analysis.</p>"},{"location":"#shift-analyzer-and-registration-optional","title":"Shift Analyzer and Registration (Optional)","text":"<p>AutoOutline provides tools to correct misalignment between masks and FISH images, ensuring accurate outline files for FISH-Quant. This section covers the Shift Analyzer (under Analysis Tool) and Registration (under Utility Tool).</p>"},{"location":"#shift-analyzer-for-visual-alignment","title":"Shift Analyzer for Visual Alignment","text":"<p>In AutoOutline, go to Analysis Tool &gt; Shift Analyzer.  </p> <p>Load your mask and the corresponding FISH image as the background. The program will generate an overlay of the mask on the FISH image.  </p> <p>Drag the mask over the FISH image to visually inspect any misalignment and determine the offset (shift) between them.  </p> <p>Once you've identified the correct offset, click Apply Registration. This will automatically start Registration tool and apply the offset values.</p> <p>Registration for Applying Offsets</p> <p>In AutoOutline, go to Utility Tool &gt; Registration.  </p> <p>The program will generate a registered mask by applying the offset, aligning the mask with the FISH image.</p> <p>Use this registered mask in the Mask2Outline tool (as described in Chapter 3) to convert it into an outline file. The resulting outline will now align perfectly with the FISH image in FISH-Quant.  </p> <p>Also support processing folder, the same coordinates are applied to all masks.</p>"},{"location":"resources/","title":"Resources","text":"<p>\u8fd9\u4e2a\u9875\u9762\u63d0\u4f9b\u4f7f\u7528AutoOutline\u6240\u9700\u7684\u6240\u6709\u8d44\u6e90\u4e0b\u8f7d\u94fe\u63a5\u3002</p>"},{"location":"resources/#autooutlinedmg","title":"AutoOutline.dmg","text":"<p>AutoOutline\u7684MacOS\u5b89\u88c5\u5305\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u94fe\u63a5\u4e0b\u8f7d\uff1a</p> <p>https://drive.google.com/file/d/1p68MWEPVD3cKDND40Gbtgrc_WwkO2O1P/view?usp=sharing</p> <p>\u4e0b\u8f7d\u540e\u53cc\u51fb\u6253\u5f00\uff0c\u5c06AutoOutline\u5e94\u7528\u62d6\u5230\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\u5939\u4e2d\u5373\u53ef\u5b89\u88c5\u3002</p>"},{"location":"resources/#_1","title":"\u6a21\u578b\u6743\u91cd\u6587\u4ef6","text":"<p>\u4e3a\u83b7\u5f97\u6700\u4f73\u7684\u9175\u6bcd\u7ec6\u80deDIC\u56fe\u50cf\u5206\u5272\u6548\u679c\uff0c\u8bf7\u4e0b\u8f7d\u4ee5\u4e0b\u81ea\u5b9a\u4e49\u6743\u91cd\u6587\u4ef6\uff1a</p> \u6a21\u578b\u5927\u5c0f \u6743\u91cd\u6587\u4ef6 Large l_yeast_finetuned.pt Base b_yeast_finetuned.pt <p>\u8fd9\u4e9b\u81ea\u5b9a\u4e49\u6743\u91cd\u6587\u4ef6\u7ecf\u8fc7\u5fae\u8c03\uff0c\u4e13\u95e8\u7528\u4e8e\u9175\u6bcd\u7ec6\u80deDIC\u56fe\u50cf\u5206\u6790\uff0c\u6bd4\u9ed8\u8ba4\u7684Micro-SAM\u6a21\u578b\u63d0\u4f9b\u66f4\u9ad8\u7684\u51c6\u786e\u5ea6\u3002 </p>"}]}